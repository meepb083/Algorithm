from typing import List, Dict, Optional

def main():
    items: List[Dict] = []

    while True:
        print("\n=== Smart Menu Analyzer ===")
        print("1) ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π")
        print("2) ‡∏•‡∏ö‡πÄ‡∏°‡∏ô‡∏π")
        print("3) ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î")
        print("4) ‡∏´‡∏≤‡∏ñ‡∏π‡∏Å‡∏™‡∏∏‡∏î/‡πÅ‡∏û‡∏á‡∏™‡∏∏‡∏î")
        print("5) ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°/‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢")
        print("6) ‡∏ô‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏Ñ‡∏≤ > X")
        print("7) ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤ (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÑ‡∏î‡πâ)")  # ‡πÅ‡∏Å‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
        print("8) ‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (Sample Data)")
        print("0) ‡∏≠‡∏≠‡∏Å")

        choice = input("‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π : ").strip()

        if choice == "1":
            add_item(items)
        elif choice == "2":
            remove_item(items)
        elif choice == "3":
            show_items(items)
        elif choice == "4":
            find_min_max(items)
        elif choice == "5":
            total_and_average(items)
        elif choice == "6":
            count_items_greater_than(items)
        elif choice == "7":
            sort_items_bubble(items)
        elif choice == "8":
            add_sample_data(items)
        elif choice == "0":
            print("üëã ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°")
            break
        else:
            print("‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á")

# --- Helper Functions for Input ---

def input_float(prompt: str) -> float:
    while True:
        try:
            s = input(prompt).strip()
            value = float(s)
            if value < 0:
                print("‚ùå ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏ö‡∏ß‡∏Å")
                continue
            return value
        except ValueError:
            print("‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏°‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á")

def input_int(prompt: str) -> int:
    while True:
        try:
            s = input(prompt).strip()
            value = int(s)
            return value
        except ValueError:
            print("‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á")

# --- Core Functions ---

def show_items(items: List[Dict]) -> None:
    if not items:
        print("‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏°‡∏ô‡∏π")
        return
    print("\n--- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏ô‡∏π ---")
    for i, it in enumerate(items, start=1):
        print(f"{i:>2}) {it['name']:<20} {it['price']:>8.2f} ‡∏ö‡∏≤‡∏ó")
    print("------------------\n")

def add_item(items: List[Dict]) -> None:
    name = input("‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π : ").strip()
    if not name:
        print("‚ùå ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π‡∏´‡πâ‡∏≤‡∏°‡∏ß‡πà‡∏≤‡∏á")
        return
    price = input_float("‡∏£‡∏≤‡∏Ñ‡∏≤ : ")
    items.append({"name": name, "price": price})
    print("‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢")

def remove_item(items: List[Dict]) -> None:
    if not items:
        print("‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏°‡∏ô‡∏π")
        return
    
    show_items(items)
    idx = input_int("‡πÉ‡∏™‡πà‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡∏ö: ")
    
    if idx < 1 or idx > len(items):
        print("‚ùå ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á")
        return
        
    removed = items.pop(idx - 1)
    print(f"‚úÖ ‡∏•‡∏ö‡πÄ‡∏°‡∏ô‡∏π: {removed['name']} ‡∏£‡∏≤‡∏Ñ‡∏≤ {removed['price']:.2f} ‡∏ö‡∏≤‡∏ó ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß")

def find_min_max(items: List[Dict]) -> None:
    if not items:
        print("‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏°‡∏ô‡∏π")
        return
    min_item = min(items, key=lambda x: x["price"])
    max_item = max(items, key=lambda x: x["price"])
    
    print(f"\nüí∏ ‡∏ñ‡∏π‡∏Å‡∏™‡∏∏‡∏î: {min_item['name']} = {min_item['price']:.2f} ‡∏ö‡∏≤‡∏ó")
    print(f"üí∞ ‡πÅ‡∏û‡∏á‡∏™‡∏∏‡∏î: {max_item['name']} = {max_item['price']:.2f} ‡∏ö‡∏≤‡∏ó")

def total_and_average(items: List[Dict]) -> None:
    if not items:
        print("‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏°‡∏ô‡∏π")
        return
    
    total = sum(item['price'] for item in items)
    avg = total / len(items)
    
    print(f"\nüíµ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: {total:.2f} ‡∏ö‡∏≤‡∏ó")
    print(f"üìä ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢:     {avg:.2f} ‡∏ö‡∏≤‡∏ó")

def count_items_greater_than(items: List[Dict]) -> None:
    if not items:
        print("‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏°‡∏ô‡∏π")
        return
        
    target = input_float("‡∏ô‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏Ñ‡∏≤‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà? : ")
    count = 0
    print(f"\n--- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏Ñ‡∏≤ > {target} ---")
    for item in items:
        if item['price'] > target:
            print(f"- {item['name']} ({item['price']:.2f})")
            count += 1
            
    if count == 0:
        print("‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏Ñ‡∏≤‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î")
    else:
        print(f"üìå ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: {count} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£")

# --- ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö ---
def sort_items_bubble(items: List[Dict]) -> None:
    if not items:
        print("‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏°‡∏ô‡∏π")
        return

    print("\n‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö:")
    print("1) ‡∏°‡∏≤‡∏Å -> ‡∏ô‡πâ‡∏≠‡∏¢ (‡πÅ‡∏û‡∏á‡∏™‡∏∏‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡πà‡∏≠‡∏ô)")
    print("2) ‡∏ô‡πâ‡∏≠‡∏¢ -> ‡∏°‡∏≤‡∏Å (‡∏ñ‡∏π‡∏Å‡∏™‡∏∏‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡πà‡∏≠‡∏ô)")
    
    sub_choice = input("‡πÄ‡∏•‡∏∑‡∏≠‡∏Å: ").strip()
    
    if sub_choice not in ("1", "2"):
        print("‚ùå ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å")
        return

    # Bubble Sort
    n = len(items)
    for i in range(n):
        for j in range(0, n - i - 1):
            should_swap = False
            
            if sub_choice == "1": 
                # ‡∏°‡∏≤‡∏Å -> ‡∏ô‡πâ‡∏≠‡∏¢: ‡∏ñ‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤ "‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤" ‡∏ï‡∏±‡∏ß‡∏´‡∏•‡∏±‡∏á ‡πÉ‡∏´‡πâ‡∏™‡∏•‡∏±‡∏ö
                if items[j]['price'] < items[j + 1]['price']:
                    should_swap = True
            else:
                # ‡∏ô‡πâ‡∏≠‡∏¢ -> ‡∏°‡∏≤‡∏Å: ‡∏ñ‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤ "‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤" ‡∏ï‡∏±‡∏ß‡∏´‡∏•‡∏±‡∏á ‡πÉ‡∏´‡πâ‡∏™‡∏•‡∏±‡∏ö
                if items[j]['price'] > items[j + 1]['price']:
                    should_swap = True
            
            if should_swap:
                # ‡∏™‡∏•‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á
                items[j], items[j + 1] = items[j + 1], items[j]
    
    mode_text = "‡∏°‡∏≤‡∏Å -> ‡∏ô‡πâ‡∏≠‡∏¢" if sub_choice == "1" else "‡∏ô‡πâ‡∏≠‡∏¢ -> ‡∏°‡∏≤‡∏Å"
    print(f"‚úÖ ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏£‡∏≤‡∏Ñ‡∏≤ ({mode_text}) ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢")
    show_items(items)

def add_sample_data(items: List[Dict]) -> None:
    samples = [
        {"name": "Espresso", "price": 45.0},
        {"name": "Latte", "price": 55.0},
        {"name": "Green Tea", "price": 50.0},
        {"name": "Cocoa", "price": 60.0},
        {"name": "Water", "price": 10.0},
    ]
    items.extend(samples)
    print(f"‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á {len(samples)} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢")

if __name__ == "__main__":
    main()
